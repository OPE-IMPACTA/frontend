(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{"0d73":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return this.editItem||t.forceRedirect()?a("q-page",{staticClass:"row items-center justify-evenly"},[a("div",{staticClass:"col-md-6"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h5 text-primary text-center"},[t._v("\n          Atualizar tarefa\n        ")])]),a("q-list",[a("q-form",{ref:"tarefaCreateForm",staticClass:"form",on:{submit:t.handleSubmit}},[a("q-card-section",[a("task-management",{attrs:{editItem:t.newEditItem}})],1),a("div",{staticClass:"text-right"},[a("q-btn",{staticClass:"q-ma-ls",attrs:{label:"Cancelar"},on:{click:t.handleCancelAdd}}),a("q-btn",{staticClass:"q-ma-md",attrs:{label:"Salvar",type:"submit",color:"primary"}})],1)],1)],1)],1)],1)]):t._e()},r=[],i=(a("e01a"),a("b157")),d=a("dde5f"),o=a("a976"),c=a("3c96"),n=a("bcc6"),m={name:"TaskUpdate",props:{editItem:{}},components:{TaskManagement:i["a"]},data(){return{newEditItem:this.editItem}},methods:{async updateClient({id:t,updateData:e}){const a=await Object(n["a"])("Atualizar tarefa","Tem certeza que deseja alterar os dados do tarefa?","Alterar");if(a.isConfirmed)try{const{errors:a}=await d["a"].task.updateTask({id:t,data:e});if(!a)return this.$toast.success("Task alterado com sucesso!",{timeout:2e3}),void await this.$router.push({name:"Task"});if(401===a.status)return this.$toast.error("Token inv√°lido!",{timeout:2e3}),Object(c["a"])(),void await this.$router.push({name:"Login"});400===a.status&&this.$toast.error("Ocorreu um erro ao deletar a tarefa!",{timeout:2e3}),await Object(o["a"])(2e3)}catch(s){this.$toast.error("Ocorreu um erro ao deletar a tarefa!",{timeout:2e3})}},handleSubmit(){const{_id:t}=this.newEditItem;this.updateClient({id:t,updateData:{project_id:this.editItem.project.value||this.editItem.project_id,user_id:this.editItem.user.value||this.editItem.user_id,description:this.editItem.description,startDate:this.editItem.startDate,endDate:this.editItem.endDate,hours:this.editItem.hours}})},async handleCancelAdd(){const t=await Object(n["a"])("Cancelar cadastro","Tem certeza que deseja cancelar o cadastro da tarefa?","Cancelar");t.isConfirmed&&await this.$router.push({name:"Task"})},forceRedirect(){this.$router.push({name:"Task"})}}},u=m,l=a("2877"),h=a("9989"),p=a("f09f"),f=a("a370"),C=a("1c1c"),b=a("0378"),w=a("9c40"),I=a("eebe"),k=a.n(I),v=Object(l["a"])(u,s,r,!1,null,null,null);e["default"]=v.exports;k()(v,"components",{QPage:h["a"],QCard:p["a"],QCardSection:f["a"],QList:C["a"],QForm:b["a"],QBtn:w["a"]})}}]);