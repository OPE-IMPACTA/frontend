(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[18],{"36f6":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"row items-center justify-evenly"},[a("div",{staticClass:"col-md-6"},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h4 text-orange text-center q-pt-lg"},[t._v("\n          Cadastrar cliente\n        ")])]),a("q-list",[a("q-form",{ref:"clientCreateForm",staticClass:"form",on:{submit:t.handleSubmit}},[a("q-card-section",[a("task-management",{attrs:{editItem:t.editItem}})],1),a("div",{staticClass:"text-right"},[a("q-btn",{staticClass:"q-ma-md",attrs:{label:"Cancelar"},on:{click:t.handleCancelAdd}}),a("q-btn",{staticClass:"q-ma-md",attrs:{label:"Salvar",type:"submit",color:"primary"}})],1)],1)],1)],1)],1)])},r=[],i=(a("e01a"),a("b157")),o=a("dde5f"),c=a("a976"),n=a("3c96"),d=a("bcc6");const m={project:"",user:"",description:"",startDate:"",endDate:"",hours:""};var u={name:"TaskRegister",components:{TaskManagement:i["a"]},data(){return{editItem:m}},methods:{async handleSubmit(){try{const{errors:t}=await o["a"].task.registerTask({data:{project_id:this.editItem.project.value,user_id:this.editItem.user.value,description:this.editItem.description,startDate:this.editItem.startDate,endDate:this.editItem.endDate,hours:this.editItem.hours}});if(!t)return this.resetForm(),this.$toast.success("Tarefa criada com sucesso!",{timeout:2e3}),void await this.$router.push({name:"Task"});if(401===t.status)return this.$toast.error("Token inv√°lido!",{timeout:2e3}),Object(n["a"])(),void await this.$router.push({name:"Login"});400===t.status&&this.$toast.error("Ocorreu um erro ao criar a tarefa!",{timeout:2e3}),await Object(c["a"])(2e3)}catch(t){this.$toast.error("Ocorreu um erro ao criar a tarefa!",{timeout:2e3})}},async handleCancelAdd(){const t=await Object(d["a"])("Cancelar cadastro","Tem certeza que deseja cancelar o cadastro da tarefa?","Cancelar");t.isConfirmed&&(this.resetForm(),await this.$router.push({name:"Task"}))},resetForm(){m.project="",m.user="",m.description="",m.startDate="",m.endDate="",m.hours=""}}},l=u,h=a("2877"),p=a("9989"),f=a("f09f"),b=a("a370"),C=a("1c1c"),v=a("0378"),w=a("9c40"),q=a("eebe"),k=a.n(q),g=Object(h["a"])(l,s,r,!1,null,null,null);e["default"]=g.exports;k()(g,"components",{QPage:p["a"],QCard:f["a"],QCardSection:b["a"],QList:C["a"],QForm:v["a"],QBtn:w["a"]})}}]);